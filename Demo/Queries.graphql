query getDetail($listingId: ID!) {
  listing(listingId: $listingId) {
    ...ListingDetail
  }
}

fragment ListingDetail on Listing {
  ...OfferDetail
  ...AuctionDetail
  ...ProjectDetail
}

fragment OfferDetail on Offer {
  estate {
    ...Estate
  }
}

fragment AuctionDetail on Auction {
  estate {
    ...Estate
  }
}

fragment ProjectDetail on Project {
  listings {
    ...ProjectListingPayload
  }
}

fragment Estate on Estate {
  ...HasEstateTypeInfo
}

fragment HasEstateTypeInfo on Estate {
  typeInfo {
    ...GarageInfo
  }
}

fragment GarageInfo on GarageInfo {
  garageType: type
  usableArea
}

fragment ProjectListingPayload on ProjectListingPayload {
  items {
    ...ProjectListing
  }
}

fragment ProjectListing on ProjectListing {
  listing {
    ...ProjectListingListing
  }
}

fragment ProjectListingListing on ListingSimple {
  ...ProjectListingOffer
  ...ProjectListingAuction
}

fragment ProjectListingOffer on Offer {
  estate {
    ...EstateProject
  }
}

fragment ProjectListingAuction on Auction {
  estate {
    ...EstateProject
  }
}

fragment EstateProject on Estate {
  ...HasEstateProjectTypeInfo
}

fragment HasEstateProjectTypeInfo on Estate {
  typeInfo {
    ...ProjectGarageInfo
  }
}

fragment ProjectGarageInfo on GarageInfo {
  garageType: type
}
